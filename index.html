<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ZeroLog</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9180492943097575" crossorigin="anonymous"></script>
    <style>
        :root { --bg: #000; --card: #0a0a0a; --accent: #2563eb; --text: #fff; --dim: #888; }
        * { box-sizing: border-box; font-family: -apple-system, sans-serif; }
        body { background: var(--bg); color: var(--text); margin: 0; padding: 20px; padding-bottom: 220px; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        h1 { font-style: italic; font-weight: 900; letter-spacing: -1px; margin: 0; }
        .tabs { display: flex; gap: 20px; margin-bottom: 20px; border-bottom: 1px solid #222; }
        .tab { padding: 10px 0; color: var(--dim); cursor: pointer; font-size: 12px; text-transform: uppercase; font-weight: bold; }
        .tab.active { color: var(--accent); border-bottom: 2px solid var(--accent); }
        .day-picker { display: flex; gap: 8px; overflow-x: auto; margin-bottom: 20px; padding-bottom: 5px; }
        .day { padding: 8px 16px; border-radius: 20px; background: var(--card); font-size: 12px; cursor: pointer; color: var(--dim); white-space: nowrap; }
        .day.active { background: var(--accent); color: white; }
        .add-ex-container { background: #111; padding: 12px; border-radius: 12px; margin-bottom: 20px; display: flex; gap: 10px; border: 1px solid #222; }
        .add-ex-container input { flex: 1; background: transparent; border: none; color: white; outline: none; font-size: 14px; }
        .exercise-card { background: var(--card); border-radius: 12px; padding: 15px; margin-bottom: 15px; border: 1px solid #1a1a1a; }
        .ex-header { display: flex; justify-content: space-between; color: var(--accent); font-size: 11px; font-weight: bold; text-transform: uppercase; margin-bottom: 15px; }
        .set-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; padding: 10px; background: #111; border-radius: 6px; }
        .delete-set { color: #ff4444; font-weight: bold; padding: 0 10px; cursor: pointer; font-size: 18px; }
        .input-row { display: flex; gap: 10px; margin-top: 15px; }
        .input-row input { background: #111; border: 1px solid #222; color: white; padding: 12px; border-radius: 8px; width: 100%; text-align: center; }
        button { background: var(--accent); color: white; border: none; padding: 12px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .btn-full { width: 100%; padding: 18px; margin-top: 10px; text-transform: uppercase; letter-spacing: 1px; }
        #timer-banner { position: fixed; bottom: 70px; left: 10px; right: 10px; background: var(--accent); color: white; padding: 15px; display: none; justify-content: space-between; align-items: center; z-index: 1001; border-radius: 12px; box-shadow: 0 -5px 20px rgba(0,0,0,0.5); }
        .timer-presets { display: flex; gap: 5px; }
        .timer-presets button { padding: 6px 10px; font-size: 11px; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); }
        .ad-container { position: fixed; bottom: 0; left: 0; width: 100%; background: #000; height: 60px; text-align: center; z-index: 1000; border-top: 1px solid #222; padding-top: 5px; }
    </style>
</head>
<body>
    <div class="header"><h1>ZEROLOG</h1></div>
    <div class="tabs">
        <div class="tab active" id="t-work" onclick="showSection('workout')">Workout</div>
        <div class="tab" id="t-calc" onclick="showSection('calculator')">Calculator</div>
    </div>
    <div id="section-workout">
        <div class="day-picker" id="dayPicker"></div>
        <div class="add-ex-container"><input type="text" id="new-ex-name" placeholder="Name (e.g. Bench Press)"><button onclick="addExercise()">ADD</button></div>
        <div id="workoutArea"></div>
        <button class="btn-full" onclick="toggleRestDay()" id="rest-btn-toggle">Mark as Rest Day</button>
    </div>
    <div id="section-calculator" style="display:none; padding-top: 10px;">
        <div class="exercise-card">
            <h3 style="margin-top:0">Plate Calculator</h3>
            <input type="number" id="target-weight" placeholder="Total kg" style="width:100%; background:#111; border:1px solid #222; color:white; padding:15px; border-radius:8px; margin-bottom:10px;">
            <div id="calc-result" style="margin:20px 0; text-align:center; color:var(--accent); font-weight:bold; font-size:20px;"></div>
            <button onclick="calcPlates()" style="width:100%">Calculate Per Side</button>
        </div>
    </div>
    <div id="timer-banner">
        <div><div style="font-size:10px; opacity:0.8">RESTING</div><div id="timer-display" style="font-size:22px; font-weight:900">0:00</div></div>
        <div class="timer-presets"><button onclick="startTimer(60)">60s</button><button onclick="startTimer(180)">180s</button><button onclick="stopTimer()" style="background:#000">SKIP</button></div>
    </div>
    <div class="ad-container">
        <ins class="adsbygoogle" style="display:inline-block;width:320px;height:50px" data-ad-client="ca-pub-9180492943097575" data-ad-slot="6115261796"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>
    <script>
        let currentDay = new Date().toLocaleDateString('en-US', { weekday: 'short' });
        let workouts = JSON.parse(localStorage.getItem('zerolog_data')) || [];
        let restDays = JSON.parse(localStorage.getItem('zerolog_rest_days')) || [];
        let timerInterval;
        const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
        function init() {
            const picker = document.getElementById('dayPicker');
            picker.innerHTML = days.map(d => `<div class="day ${d === currentDay ? 'active' : ''}" onclick="setDay('${d}')">${d}</div>`).join('');
            render();
        }
        function setDay(d) { currentDay = d; init(); }
        function addExercise() {
            const input = document.getElementById('new-ex-name');
            if (input.value.trim()) {
                workouts.push({ id: Date.now(), day: currentDay, name: input.value.trim(), sets: [] });
                input.value = ''; save();
            }
        }
        function addSet(exId, w, r) {
            if (!w || !r) return;
            workouts.find(ex => ex.id === exId).sets.push({ weight: w, reps: r });
            save(); startTimer(90);
        }
        function deleteSet(exId, idx) {
            workouts.find(ex => ex.id === exId).sets.splice(idx, 1); save();
        }
        function toggleRestDay() {
            if (restDays.includes(currentDay)) restDays = restDays.filter(d => d !== currentDay);
            else restDays.push(currentDay);
            localStorage.setItem('zerolog_rest_days', JSON.stringify(restDays)); render();
        }
        function startTimer(s) {
            clearInterval(timerInterval);
            document.getElementById('timer-banner').style.display = 'flex';
            let left = s;
            const update = () => {
                let m = Math.floor(left/60), sec = left%60;
                document.getElementById('timer-display').innerText = `${m}:${sec<10?'0':''}${sec}`;
            };
            update();
            timerInterval = setInterval(() => { left--; update(); if (left <= 0) stopTimer(); }, 1000);
        }
        function stopTimer() { clearInterval(timerInterval); document.getElementById('timer-banner').style.display = 'none'; }
        function calcPlates() {
            let t = document.getElementById('target-weight').value;
            document.getElementById('calc-result').innerText = t >= 20 ? `${(t-20)/2} kg per side` : "Min 20kg (Bar)";
        }
        function showSection(s) {
            document.getElementById('section-workout').style.display = s === 'workout' ? 'block' : 'none';
            document.getElementById('section-calculator').style.display = s === 'calculator' ? 'block' : 'none';
            document.getElementById('t-work').classList.toggle('active', s === 'workout');
            document.getElementById('t-calc').classList.toggle('active', s === 'calculator');
        }
        function save() { localStorage.setItem('zerolog_data', JSON.stringify(workouts)); render(); }
        function render() {
            const area = document.getElementById('workoutArea');
            const isRest = restDays.includes(currentDay);
            document.getElementById('rest-btn-toggle').innerText = isRest ? "Resume Training Today" : "Mark as Rest Day";
            if (isRest) {
                area.innerHTML = `<div class="exercise-card" style="text-align:center; padding:40px; border: 1px dashed #333">ðŸ§˜ Today is a Recovery Day.</div>`;
                return;
            }
            area.innerHTML = workouts.filter(ex => ex.day === currentDay).map(ex => `
                <div class="exercise-card">
                    <div class="ex-header"><span>${ex.name}</span><span onclick="workouts=workouts.filter(w=>w.id!=${ex.id});save()" style="cursor:pointer">âœ•</span></div>
                    ${ex.sets.map((s, i) => `<div class="set-row"><span>Set ${i+1}: ${s.weight}kg x ${s.reps}</span><span class="delete-set" onclick="deleteSet(${ex.id}, ${i})">Ã—</span></div>`).join('')}
                    <div class="input-row"><input type="number" placeholder="kg" id="w-${ex.id}"><input type="number" placeholder="reps" id="r-${ex.id}"><button onclick="addSet(${ex.id}, document.getElementById('w-${ex.id}').value, document.getElementById('r-${ex.id}').value)">âœ“</button></div>
                </div>`).join('');
        }
        init();
    </script>
</body>
</html>
